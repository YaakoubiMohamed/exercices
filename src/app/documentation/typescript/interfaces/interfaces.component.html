<div class="doc-container">
    <nav class="breadcrumb">
        <a routerLink="/home">üè† Accueil</a>
        <span class="separator">‚Ä∫</span>
        <a routerLink="/documentation">üìö Documentation</a>
        <span class="separator">‚Ä∫</span>
        <span class="current">Interfaces TypeScript</span>
    </nav>

    <div class="doc-content">
        <header class="doc-header">
            <h1 class="display-4 mb-3">Interfaces TypeScript</h1>
            <p class="lead text-muted">
                Les interfaces TypeScript d√©finissent la structure des objets, permettant la v√©rification de type √† la
                compilation.
                Elles sont essentielles pour un code type-safe et maintenable en Angular.
            </p>
        </header>

        <!-- Syntaxe de Base -->
        <section class="doc-section mb-5">
            <h2 class="section-title">Syntaxe de Base</h2>

            <div class="code-example mb-4">
                <div class="code-header">
                    <span class="language-badge">TypeScript</span>
                    <span class="file-name">Interface simple</span>
                </div>
                <pre><code class="language-typescript">// D√©finition d'une interface
interface User {{ '{' }}
  id: number;
  name: string;
  email: string;
  age?: number;              // Propri√©t√© optionnelle
  readonly createdAt: Date;  // Propri√©t√© read-only
{{ '}' }}

// Utilisation
const user: User = {{ '{' }}
  id: 1,
  name: 'John Doe',
  email: 'john@example.com',
  createdAt: new Date()
{{ '}' }};

// user.createdAt = new Date();  // ‚ùå Erreur: readonly
</code></pre>
            </div>

            <div class="code-example">
                <div class="code-header">
                    <span class="language-badge">TypeScript</span>
                    <span class="file-name">Interface avec m√©thodes</span>
                </div>
                <pre><code class="language-typescript">interface Calculator {{ '{' }}
  add(a: number, b: number): number;
  subtract(a: number, b: number): number;
  multiply?(a: number, b: number): number;  // M√©thode optionnelle
{{ '}' }}

class SimpleCalculator implements Calculator {{ '{' }}
  add(a: number, b: number): number {{ '{' }}
    return a + b;
  {{ '}' }}

  subtract(a: number, b: number): number {{ '{' }}
    return a - b;
  {{ '}' }}
{{ '}' }}
</code></pre>
            </div>
        </section>

        <!-- Caract√©ristiques -->
        <section class="doc-section mb-5">
            <h2 class="section-title">Caract√©ristiques des Interfaces</h2>

            <div class="row g-4">
                @for (feature of features; track feature.title) {
                <div class="col-md-4">
                    <div class="card h-100 border-info">
                        <div class="card-body">
                            <h5 class="card-title">
                                <i class="bi bi-star text-warning me-2"></i>
                                {{ feature.title }}
                            </h5>
                            <p class="card-text">{{ feature.description }}</p>
                            <div class="code-example small">
                                <pre><code>{{ feature.example }}</code></pre>
                            </div>
                        </div>
                    </div>
                </div>
                }
            </div>
        </section>

        <!-- Types vs Interfaces -->
        <section class="doc-section mb-5">
            <h2 class="section-title">Types vs Interfaces</h2>

            <div class="table-responsive mb-4">
                <table class="table table-hover table-bordered">
                    <thead class="table-primary">
                        <tr>
                            <th style="width: 25%">Caract√©ristique</th>
                            <th>Interface</th>
                            <th>Type</th>
                        </tr>
                    </thead>
                    <tbody>
                        @for (comparison of typesVsInterfaces; track comparison.feature) {
                        <tr>
                            <td><strong>{{ comparison.feature }}</strong></td>
                            <td>{{ comparison.interface }}</td>
                            <td>{{ comparison.type }}</td>
                        </tr>
                        }
                    </tbody>
                </table>
            </div>

            <div class="row g-4">
                <div class="col-md-6">
                    <h3 class="h5 mb-3">Interface</h3>
                    <div class="code-example">
                        <pre><code class="language-typescript">interface Point {{ '{' }}
  x: number;
  y: number;
{{ '}' }}

// Extension
interface Point3D extends Point {{ '{' }}
  z: number;
{{ '}' }}

// Declaration merging
interface Window {{ '{' }}
  myCustomProperty: string;
{{ '}' }}
</code></pre>
                    </div>
                </div>

                <div class="col-md-6">
                    <h3 class="h5 mb-3">Type Alias</h3>
                    <div class="code-example">
                        <pre><code class="language-typescript">type Point = {{ '{' }}
  x: number;
  y: number;
{{ '}' }};

// Intersection
type Point3D = Point & {{ '{' }}
  z: number;
{{ '}' }};

// Union types
type Status = 'pending' | 'approved' | 'rejected';

// Pas de declaration merging ‚ùå
</code></pre>
                    </div>
                </div>
            </div>
        </section>

        <!-- Exemples Avanc√©s -->
        <section class="doc-section mb-5">
            <h2 class="section-title">Exemples Avanc√©s</h2>

            <div class="row g-4">
                <div class="col-12">
                    <h3 class="h5 mb-3">Index Signatures</h3>
                    <div class="code-example">
                        <pre><code class="language-typescript">interface Dictionary {{ '{' }}
  [key: string]: any;
{{ '}' }}

interface StringDictionary {{ '{' }}
  [key: string]: string;
  length: number;  // Propri√©t√© sp√©cifique en plus
{{ '}' }}

const config: Dictionary = {{ '{' }}
  apiUrl: 'https://api.example.com',
  timeout: 5000,
  retries: 3
{{ '}' }};
</code></pre>
                    </div>
                </div>

                <div class="col-12">
                    <h3 class="h5 mb-3">Interfaces Hybrides (Fonction + Objet)</h3>
                    <div class="code-example">
                        <pre><code class="language-typescript">interface Counter {{ '{' }}
  (start: number): string;  // Fonction callable
  interval: number;          // Propri√©t√©
  reset(): void;             // M√©thode
{{ '}' }}

function getCounter(): Counter {{ '{' }}
  const counter = (start: number) => `Started at ${{ '{' }}start{{ '}' }}`;
  counter.interval = 1000;
  counter.reset = () => {{ '{' }} console.log('Reset'); {{ '}' }};
  return counter as Counter;
{{ '}' }}
</code></pre>
                    </div>
                </div>

                <div class="col-12">
                    <h3 class="h5 mb-3">Interfaces G√©n√©riques</h3>
                    <div class="code-example">
                        <pre><code class="language-typescript">interface ApiResponse&lt;T&gt; {{ '{' }}
  data: T;
  status: number;
  message: string;
{{ '}' }}

interface User {{ '{' }}
  id: number;
  name: string;
{{ '}' }}

const response: ApiResponse&lt;User[]&gt; = {{ '{' }}
  data: [{{ '{' }} id: 1, name: 'John' {{ '}' }}],
  status: 200,
  message: 'Success'
{{ '}' }};
</code></pre>
                    </div>
                </div>
            </div>
        </section>

        <!-- Cas d'usage Angular -->
        <section class="doc-section mb-5">
            <h2 class="section-title">Cas d'Usage Angular</h2>

            <div class="row g-4">
                @for (useCase of useCases; track useCase.title) {
                <div class="col-md-6">
                    <div class="card h-100">
                        <div class="card-header bg-primary text-white">
                            {{ useCase.title }}
                        </div>
                        <div class="card-body">
                            <div class="code-example">
                                <pre><code class="language-typescript">{{ useCase.code }}</code></pre>
                            </div>
                        </div>
                    </div>
                </div>
                }
            </div>
        </section>

        <!-- Best Practices -->
        <section class="doc-section mb-5">
            <h2 class="section-title">Bonnes Pratiques</h2>

            <div class="row g-4">
                <div class="col-md-6">
                    <div class="card border-success h-100">
                        <div class="card-header bg-success text-white">
                            <i class="bi bi-check-circle me-2"></i>√Ä Faire
                        </div>
                        <div class="card-body">
                            <ul class="mb-0">
                                <li>Pr√©f√©rer interfaces pour objets et classes</li>
                                <li>Utiliser readonly pour propri√©t√©s immuables</li>
                                <li>Documenter les interfaces complexes</li>
                                <li>Grouper les interfaces par domaine</li>
                                <li>Utiliser extends pour composition</li>
                                <li>D√©finir types dans fichiers .d.ts s√©par√©s</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="col-md-6">
                    <div class="card border-danger h-100">
                        <div class="card-header bg-danger text-white">
                            <i class="bi bi-x-circle me-2"></i>√Ä √âviter
                        </div>
                        <div class="card-body">
                            <ul class="mb-0">
                                <li>Utiliser any au lieu d'interfaces</li>
                                <li>Cr√©er des interfaces trop complexes</li>
                                <li>Dupliquer les d√©finitions de types</li>
                                <li>Oublier les propri√©t√©s optionnelles</li>
                                <li>Nommer sans convention (IUser, UserInterface)</li>
                                <li>M√©langer logique et d√©finition de types</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Resources -->
        <section class="doc-section mb-5">
            <h2 class="section-title">Ressources</h2>
            <div class="list-group">
                <a href="https://www.typescriptlang.org/docs/handbook/interfaces.html" target="_blank"
                    class="list-group-item list-group-item-action">
                    <i class="bi bi-book me-2"></i>TypeScript Handbook - Interfaces
                </a>
                <a href="https://www.typescriptlang.org/docs/handbook/2/everyday-types.html" target="_blank"
                    class="list-group-item list-group-item-action">
                    <i class="bi bi-book me-2"></i>TypeScript - Everyday Types
                </a>
            </div>
        </section>

        <!-- Navigation -->
        <nav class="doc-navigation mt-5 pt-4 border-top">
            <div class="row">
                <div class="col-6">
                    <a routerLink="/documentation/routing/lazy-loading" class="btn btn-outline-secondary">
                        <i class="bi bi-arrow-left me-2"></i>Pr√©c√©dent: Lazy Loading
                    </a>
                </div>
                <div class="col-6 text-end">
                    <a routerLink="/documentation/typescript/generics" class="btn btn-primary">
                        Suivant: G√©n√©riques<i class="bi bi-arrow-right ms-2"></i>
                    </a>
                </div>
            </div>
        </nav>
    </div>
</div>