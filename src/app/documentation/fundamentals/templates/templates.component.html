<div class="doc-container">
  <nav class="breadcrumb">
    <a routerLink="/home">üè† Accueil</a>
    <span class="separator">‚Ä∫</span>
    <a routerLink="/documentation">üìö Documentation</a>
    <span class="separator">‚Ä∫</span>
    <span class="current">Templates</span>
  </nav>

  <article class="doc-content">
    <header class="doc-header">
      <h1>üìÑ Templates Angular</h1>
      <p class="doc-subtitle">Syntaxe et fonctionnalit√©s des templates</p>
    </header>

    <section class="doc-section">
      <h2>üé® Qu'est-ce qu'un Template ?</h2>
      <div class="definition-box">
        <p>
          Un <strong>template</strong> est le code HTML qui d√©finit la vue d'un composant.
          Angular enrichit le HTML standard avec une syntaxe sp√©ciale pour :
        </p>
        <ul>
          <li>Afficher des donn√©es dynamiques</li>
          <li>R√©agir aux √©v√©nements utilisateur</li>
          <li>Contr√¥ler le rendu conditionnel</li>
          <li>R√©p√©ter des √©l√©ments</li>
          <li>Lier des propri√©t√©s et √©v√©nements</li>
        </ul>
      </div>
    </section>

    <section class="doc-section">
      <h2>üìù Syntaxe des Templates</h2>
      <div class="syntax-grid">
        @for (syntax of syntaxElements; track syntax.name) {
          <div class="syntax-card">
            <div class="syntax-header">
              <h3>{{ syntax.name }}</h3>
              <code class="syntax-code">{{ syntax.syntax }}</code>
            </div>
            <p class="syntax-description">{{ syntax.description }}</p>
            <div class="syntax-example">
              <strong>Exemple :</strong>
              <pre><code>{{ syntax.example }}</code></pre>
            </div>
          </div>
        }
      </div>
    </section>

    <section class="doc-section">
      <h2>üî§ Interpolation</h2>
      <div class="feature-box">
        <p>
          L'interpolation utilise des doubles accolades pour ins√©rer des expressions TypeScript dans le HTML.
        </p>
        <div class="code-example">
          <div class="code-block">
            <h4>TypeScript</h4>
            <pre><code>export class MyComponent &#123;
  title = 'Mon Application';
  count = 42;
  
  getFullName(): string &#123;
    return 'Jean Dupont';
  &#125;
&#125;</code></pre>
          </div>
          <div class="code-block">
            <h4>Template</h4>
            <pre><code>&lt;h1&gt;Titre : &#123;&#123; title &#125;&#125;&lt;/h1&gt;
&lt;p&gt;Compteur : &#123;&#123; count &#125;&#125;&lt;/p&gt;
&lt;p&gt;Nom : &#123;&#123; getFullName() &#125;&#125;&lt;/p&gt;
&lt;p&gt;Calcul : &#123;&#123; 10 + 5 &#125;&#125;&lt;/p&gt;</code></pre>
          </div>
        </div>
        <div class="note-box">
          <strong>‚ö†Ô∏è Limitations :</strong>
          <ul>
            <li>Pas d'assignations (=, +=, etc.)</li>
            <li>Pas de new, typeof, instanceof</li>
            <li>Pas de cha√Ænage avec ; ou ,</li>
            <li>Pas d'op√©rateurs bitwise (|, &)</li>
          </ul>
        </div>
      </div>
    </section>

    <section class="doc-section">
      <h2>üéØ Property Binding [property]</h2>
      <div class="feature-box">
        <p>
          Lie une propri√©t√© d'un √©l√©ment DOM ou d'un composant √† une valeur TypeScript.
          Les donn√©es circulent de la classe TypeScript vers le template (one-way).
        </p>
        <div class="binding-examples">
          <div class="binding-item">
            <h4>Propri√©t√©s DOM</h4>
            <pre><code>&lt;img [src]="imageUrl"&gt;
&lt;button [disabled]="isProcessing"&gt;
&lt;div [hidden]="!showContent"&gt;
&lt;input [value]="userName"&gt;</code></pre>
          </div>
          <div class="binding-item">
            <h4>Propri√©t√©s de Composant</h4>
            <pre><code>&lt;app-user-card [user]="currentUser"&gt;
&lt;app-product [productId]="selectedId"&gt;</code></pre>
          </div>
          <div class="binding-item">
            <h4>Classes CSS</h4>
            <pre><code>&lt;div [class.active]="isActive"&gt;
&lt;div [class]="cssClasses"&gt;
&lt;div [ngClass]="&#123;'bold': isBold, 'italic': isItalic&#125;"&gt;</code></pre>
          </div>
          <div class="binding-item">
            <h4>Styles</h4>
            <pre><code>&lt;div [style.color]="textColor"&gt;
&lt;div [style.width.px]="widthValue"&gt;
&lt;div [ngStyle]="&#123;'font-size': fontSize + 'px'&#125;"&gt;</code></pre>
          </div>
        </div>
      </div>
    </section>

    <section class="doc-section">
      <h2>üñ±Ô∏è Event Binding (event)</h2>
      <div class="feature-box">
        <p>
          √âcoute les √©v√©nements du DOM et appelle des m√©thodes du composant.
          Les donn√©es circulent du template vers la classe TypeScript (one-way).
        </p>
        <div class="events-grid">
          <div class="event-category">
            <h4>√âv√©nements Souris</h4>
            <pre><code>&lt;button (click)="handleClick()"&gt;Cliquer&lt;/button&gt;
&lt;div (dblclick)="handleDoubleClick()"&gt;
&lt;div (mouseenter)="onHover()" (mouseleave)="onLeave()"&gt;</code></pre>
          </div>
          <div class="event-category">
            <h4>√âv√©nements Clavier</h4>
            <pre><code>&lt;input (keyup)="onKeyUp($event)"&gt;
&lt;input (keydown.enter)="onEnter()"&gt;
&lt;input (keydown.escape)="onEscape()"&gt;</code></pre>
          </div>
          <div class="event-category">
            <h4>√âv√©nements Formulaire</h4>
            <pre><code>&lt;form (submit)="onSubmit($event)"&gt;
&lt;input (input)="onInput($event)"&gt;
&lt;input (change)="onChange($event)"&gt;
&lt;input (focus)="onFocus()" (blur)="onBlur()"&gt;</code></pre>
          </div>
          <div class="event-category">
            <h4>Objet $event</h4>
            <pre><code>onKeyUp(event: KeyboardEvent): void &#123;
  console.log(event.key);
  console.log(event.target.value);
&#125;</code></pre>
          </div>
        </div>
      </div>
    </section>

    <section class="doc-section">
      <h2>üîÑ Two-way Binding [(ngModel)]</h2>
      <div class="feature-box">
        <p>
          Combine property binding et event binding pour une synchronisation bidirectionnelle.
          N√©cessite l'import de <code>FormsModule</code>.
        </p>
        <div class="two-way-example">
          <div class="code-block">
            <h4>Setup</h4>
            <pre><code>import &#123; FormsModule &#125; from '&#64;angular/forms';

&#64;Component(&#123;
  imports: [FormsModule]
&#125;)</code></pre>
          </div>
          <div class="code-block">
            <h4>Utilisation</h4>
            <pre><code>&lt;input [(ngModel)]="userName"&gt;
&lt;p&gt;Bonjour &#123;&#123; userName &#125;&#125;&lt;/p&gt;

&lt;!-- √âquivalent √† : --&gt;
&lt;input 
  [ngModel]="userName"
  (ngModelChange)="userName = $event"&gt;</code></pre>
          </div>
        </div>
      </div>
    </section>

    <section class="doc-section">
      <h2>üìç Template Reference Variables #var</h2>
      <div class="feature-box">
        <p>
          Cr√©e une r√©f√©rence √† un √©l√©ment DOM ou composant pour y acc√©der dans le template.
        </p>
        <div class="reference-examples">
          <h4>Exemples d'utilisation</h4>
          <pre><code>&lt;!-- Acc√©der √† la valeur d'un input --&gt;
&lt;input #phoneInput placeholder="T√©l√©phone"&gt;
&lt;button (click)="call(phoneInput.value)"&gt;Appeler&lt;/button&gt;

&lt;!-- Focus programmatique --&gt;
&lt;input #nameInput&gt;
&lt;button (click)="nameInput.focus()"&gt;Focus&lt;/button&gt;

&lt;!-- Passer l'√©l√©ment entier --&gt;
&lt;video #videoPlayer src="video.mp4"&gt;&lt;/video&gt;
&lt;button (click)="videoPlayer.play()"&gt;Play&lt;/button&gt;

&lt;!-- R√©f√©rencer un composant --&gt;
&lt;app-modal #modal&gt;&lt;/app-modal&gt;
&lt;button (click)="modal.open()"&gt;Ouvrir Modal&lt;/button&gt;</code></pre>
        </div>
      </div>
    </section>

    <section class="doc-section">
      <h2>‚úÖ Bonnes Pratiques</h2>
      <div class="best-practices">
        <div class="practice-card good">
          <h3>‚úì √Ä Faire</h3>
          <ul>
            <li>Garder la logique dans le composant (pas dans le template)</li>
            <li>Utiliser des pipes pour les transformations simples</li>
            <li>√âviter les appels de m√©thodes dans l'interpolation (performance)</li>
            <li>Utiliser <code>trackBy</code> avec les boucles</li>
            <li>Pr√©f√©rer property binding √† l'interpolation pour les propri√©t√©s</li>
          </ul>
        </div>
        <div class="practice-card bad">
          <h3>‚úó √Ä √âviter</h3>
          <ul>
            <li>Logique complexe dans les expressions de template</li>
            <li>Appels de fonctions co√ªteuses dans l'interpolation</li>
            <li>Manipulation directe du DOM avec les r√©f√©rences</li>
            <li>Trop de niveaux d'imbrication</li>
            <li>Expressions avec effets de bord</li>
          </ul>
        </div>
      </div>
    </section>

    <section class="doc-section">
      <h2>üìö Ressources Officielles</h2>
      <div class="resources">
        <a href="https://angular.dev/guide/templates" target="_blank" class="resource-link">
          üìñ Guide Templates
        </a>
        <a href="https://angular.dev/guide/templates/binding" target="_blank" class="resource-link">
          üîó Data Binding
        </a>
        <a href="https://angular.dev/guide/templates/reference-variables" target="_blank" class="resource-link">
          üìç Template Variables
        </a>
      </div>
    </section>

    <nav class="doc-navigation">
      <a routerLink="/documentation/fundamentals/components" class="nav-btn prev">
        ‚Üê Composants
      </a>
      <a routerLink="/documentation/fundamentals/data-binding" class="nav-btn next">
        Data Binding ‚Üí
      </a>
    </nav>
  </article>
</div>
