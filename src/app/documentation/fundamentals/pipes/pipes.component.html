<div class="doc-container">
  <nav class="breadcrumb">
    <a routerLink="/home">üè† Accueil</a>
    <span class="separator">‚Ä∫</span>
    <a routerLink="/documentation">üìö Documentation</a>
    <span class="separator">‚Ä∫</span>
    <span class="current">Pipes</span>
  </nav>

  <article class="doc-content">
    <header class="doc-header">
      <h1>üîÑ Pipes Angular</h1>
      <p class="doc-subtitle">Transformer les donn√©es dans les templates</p>
    </header>

    <section class="doc-section">
      <h2>üìã Qu'est-ce qu'un Pipe ?</h2>
      <div class="definition-box">
        <p>Les <strong>pipes</strong> sont des fonctions simples utilis√©es dans les templates pour transformer les donn√©es affich√©es. Ils prennent une valeur en entr√©e et retournent une valeur transform√©e en sortie.</p>
        <div class="syntax-highlight">
          <code>{{ '{' }}{{ '{' }} value | pipeName:param1:param2 {{ '}' }}{{ '}' }}</code>
        </div>
      </div>
    </section>

    <section class="doc-section">
      <h2>üîß Pipes Int√©gr√©s</h2>
      <div class="pipes-grid">
        @for (pipe of builtInPipes; track pipe.name) {
          <div class="pipe-card">
            <div class="pipe-header">
              <h3>{{ pipe.name }}</h3>
              <span class="category-badge" [ngClass]="pipe.category.toLowerCase()">{{ pipe.category }}</span>
            </div>
            <p class="description">{{ pipe.description }}</p>
            <div class="syntax-box">
              <strong>Syntaxe:</strong>
              <code>{{ pipe.syntax }}</code>
            </div>
            <div class="example-section">
              <div class="example-input">
                <strong>Exemple:</strong>
                <code>{{ pipe.example }}</code>
              </div>
              <div class="example-output">
                <strong>R√©sultat:</strong>
                <code>{{ pipe.output }}</code>
              </div>
            </div>
          </div>
        }
      </div>
    </section>

    <section class="doc-section">
      <h2>üí° D√©monstration Interactive</h2>
      <div class="demo-grid">
        <div class="demo-card">
          <h4>DatePipe</h4>
          <div class="demo-content">
            @for (format of dateFormats; track format.format) {
              <div class="demo-row">
                <span class="format-label">{{ format.format }}:</span>
                <span class="format-result">{{ format.example | date:format.format }}</span>
              </div>
            }
          </div>
        </div>

        <div class="demo-card">
          <h4>Text Transformation</h4>
          <div class="demo-content">
            <div class="demo-row">
              <span class="format-label">Original:</span>
              <span class="format-result">{{ text }}</span>
            </div>
            <div class="demo-row">
              <span class="format-label">uppercase:</span>
              <span class="format-result">{{ text | uppercase }}</span>
            </div>
            <div class="demo-row">
              <span class="format-label">lowercase:</span>
              <span class="format-result">{{ text | lowercase }}</span>
            </div>
          </div>
        </div>

        <div class="demo-card">
          <h4>Number Formatting</h4>
          <div class="demo-content">
            <div class="demo-row">
              <span class="format-label">Currency:</span>
              <span class="format-result">{{ price | currency:'USD' }}</span>
            </div>
            <div class="demo-row">
              <span class="format-label">Decimal:</span>
              <span class="format-result">{{ largeNumber | number:'1.2-2' }}</span>
            </div>
            <div class="demo-row">
              <span class="format-label">Percent:</span>
              <span class="format-result">{{ percentage | percent:'1.1-1' }}</span>
            </div>
          </div>
        </div>

        <div class="demo-card">
          <h4>AsyncPipe</h4>
          <div class="demo-content">
            <div class="demo-row">
              <span class="format-label">Observable:</span>
              <span class="format-result">{{ data$ | async }}</span>
            </div>
            <p class="pipe-note">Le pipe async g√®re automatiquement la souscription et le unsubscribe</p>
          </div>
        </div>
      </div>
    </section>

    <section class="doc-section">
      <h2>üîó Cha√Ænage de Pipes</h2>
      <div class="chaining-box">
        <p>Les pipes peuvent √™tre cha√Æn√©s pour appliquer plusieurs transformations successives:</p>
        <div class="chaining-example">
          <div class="chain-step">
            <strong>Entr√©e:</strong>
            <code>{{ today }}</code>
          </div>
          <div class="chain-arrow">‚Üí</div>
          <div class="chain-step">
            <strong>Code:</strong>
            <code>{{ '{' }}{{ '{' }} today | date:'fullDate' | uppercase {{ '}' }}{{ '}' }}</code>
          </div>
          <div class="chain-arrow">‚Üí</div>
          <div class="chain-step">
            <strong>Sortie:</strong>
            <code>{{ today | date:'fullDate' | uppercase }}</code>
          </div>
        </div>
      </div>
    </section>

    <section class="doc-section">
      <h2>üõ†Ô∏è Cr√©er un Pipe Personnalis√©</h2>
      <div class="custom-pipe-box">
        <h3>Pipe Simple</h3>
        <pre><code>import {{ '{' }} Pipe, PipeTransform {{ '}' }} from '@angular/core';

@Pipe({{ '{' }}
  name: 'exponential',
  standalone: true
{{ '}' }})
export class ExponentialPipe implements PipeTransform {{ '{' }}
  transform(value: number, exponent: number = 2): number {{ '{' }}
    return Math.pow(value, exponent);
  {{ '}' }}
{{ '}' }}

// Usage
{{ '{' }}{{ '{' }} 2 | exponential:3 {{ '}' }}{{ '}' }} // Output: 8</code></pre>
      </div>

      <div class="custom-pipe-box">
        <h3>Pipe avec Param√®tres Multiples</h3>
        <pre><code>import {{ '{' }} Pipe, PipeTransform {{ '}' }} from '@angular/core';

@Pipe({{ '{' }}
  name: 'truncate',
  standalone: true
{{ '}' }})
export class TruncatePipe implements PipeTransform {{ '{' }}
  transform(value: string, limit: number = 50, trail: string = '...'): string {{ '{' }}
    if (!value) return '';
    return value.length > limit ? value.substring(0, limit) + trail : value;
  {{ '}' }}
{{ '}' }}

// Usage
{{ '{' }}{{ '{' }} longText | truncate:20:'...' {{ '}' }}{{ '}' }}</code></pre>
      </div>
    </section>

    <section class="doc-section">
      <h2>‚ö° Pure vs Impure Pipes</h2>
      <div class="pure-impure-grid">
        <div class="pipe-type-card pure">
          <h3>‚úÖ Pure Pipes (par d√©faut)</h3>
          <div class="type-content">
            <p><strong>Comportement:</strong></p>
            <ul>
              <li>Ex√©cut√© uniquement si la valeur d'entr√©e change</li>
              <li>Ne d√©tecte pas les changements internes des objets/arrays</li>
              <li>Tr√®s performant</li>
            </ul>
            <div class="code-example">
              <pre><code>@Pipe({{ '{' }}
  name: 'myPipe',
  standalone: true,
  pure: true  // Par d√©faut
{{ '}' }})</code></pre>
            </div>
          </div>
        </div>

        <div class="pipe-type-card impure">
          <h3>‚ö†Ô∏è Impure Pipes</h3>
          <div class="type-content">
            <p><strong>Comportement:</strong></p>
            <ul>
              <li>Ex√©cut√© √† chaque cycle de d√©tection</li>
              <li>D√©tecte tous les changements</li>
              <li>Impact sur les performances</li>
            </ul>
            <div class="code-example">
              <pre><code>@Pipe({{ '{' }}
  name: 'myPipe',
  standalone: true,
  pure: false  // Impure
{{ '}' }})</code></pre>
            </div>
          </div>
        </div>
      </div>

      <div class="warning-box">
        <strong>‚ö†Ô∏è Attention:</strong> Utilisez les impure pipes avec pr√©caution car ils peuvent impacter significativement les performances de votre application.
      </div>
    </section>

    <section class="doc-section">
      <h2>üìä Comparaison avec les M√©thodes</h2>
      <div class="comparison-grid">
        <div class="comparison-card pipes">
          <h3>‚úì Utiliser un Pipe</h3>
          <pre><code>&lt;p&gt;{{ '{' }}{{ '{' }} price | currency:'USD' {{ '}' }}{{ '}' }}&lt;/p&gt;

// Avantages:
// - Performance optimis√©e
// - Cache automatique
// - R√©utilisable
// - Code propre</code></pre>
        </div>

        <div class="comparison-card methods">
          <h3>‚úó Utiliser une M√©thode</h3>
          <pre><code>&lt;p&gt;{{ '{' }}{{ '{' }} formatPrice(price) {{ '}' }}{{ '}' }}&lt;/p&gt;

// Probl√®mes:
// - Ex√©cut√© √† chaque change detection
// - Pas de cache
// - Moins performant
// - Code r√©p√©titif</code></pre>
        </div>
      </div>
    </section>

    <section class="doc-section">
      <h2>‚úÖ Bonnes Pratiques</h2>
      <div class="best-practices">
        <div class="practice-card good">
          <h3>‚úì √Ä Faire</h3>
          <ul>
            <li>Pr√©f√©rer les pure pipes (par d√©faut)</li>
            <li>Utiliser AsyncPipe pour les Observables/Promises</li>
            <li>Cr√©er des pipes r√©utilisables</li>
            <li>Nommer les pipes de mani√®re descriptive</li>
            <li>Garder les pipes simples et sans effets de bord</li>
            <li>Documenter les param√®tres des pipes personnalis√©s</li>
          </ul>
        </div>

        <div class="practice-card bad">
          <h3>‚úó √Ä √âviter</h3>
          <ul>
            <li>Cr√©er des impure pipes sans raison valable</li>
            <li>Effectuer des op√©rations co√ªteuses dans un pipe</li>
            <li>Modifier les donn√©es d'entr√©e dans un pipe</li>
            <li>Appeler des m√©thodes dans les templates √† la place des pipes</li>
            <li>Oublier de g√©rer les valeurs null/undefined</li>
          </ul>
        </div>
      </div>
    </section>

    <section class="doc-section">
      <h2>üìö Ressources Officielles</h2>
      <div class="resources">
        <a href="https://angular.dev/guide/pipes" target="_blank" class="resource-link">
          üìñ Guide des Pipes
        </a>
        <a href="https://angular.dev/guide/pipes/transform-data" target="_blank" class="resource-link">
          üîÑ Transformer les Donn√©es
        </a>
        <a href="https://angular.dev/api/common#pipes" target="_blank" class="resource-link">
          üìö API Pipes Int√©gr√©s
        </a>
      </div>
    </section>

    <nav class="doc-navigation">
      <a routerLink="/documentation/fundamentals/directives" class="nav-btn prev">
        ‚Üê Directives
      </a>
      <a routerLink="/documentation/fundamentals/lifecycle-hooks" class="nav-btn next">
        Lifecycle Hooks ‚Üí
      </a>
    </nav>
  </article>
</div>
