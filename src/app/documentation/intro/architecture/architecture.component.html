<div class="doc-container">
  <nav class="breadcrumb">
    <a routerLink="/home">üè† Accueil</a>
    <span class="separator">‚Ä∫</span>
    <a routerLink="/documentation">üìö Documentation</a>
    <span class="separator">‚Ä∫</span>
    <span class="current">Architecture</span>
  </nav>

  <article class="doc-content">
    <header class="doc-header">
      <h1>üèóÔ∏è Architecture Angular</h1>
      <p class="doc-subtitle">Comprendre la philosophie et l'organisation</p>
    </header>

    <section class="doc-section">
      <h2>üéØ Philosophie : Framework Opinionated</h2>
      <div class="philosophy-comparison">
        <div class="comparison-card opinionated">
          <h3>Framework Opinionated (Angular)</h3>
          <ul>
            <li>‚úÖ Structure impos√©e</li>
            <li>‚úÖ Conventions √©tablies</li>
            <li>‚úÖ Tout est inclus (CLI, forms, routing, HTTP)</li>
            <li>‚úÖ Moins de d√©cisions √† prendre</li>
            <li>‚úÖ √âquipes uniformis√©es</li>
          </ul>
          <p class="note">Id√©al pour grandes √©quipes et applications enterprise</p>
        </div>
        <div class="comparison-card unopinionated">
          <h3>Library Unopinionated (React)</h3>
          <ul>
            <li>‚ö° Flexibilit√© maximale</li>
            <li>‚ö° Choix de l'architecture</li>
            <li>‚ö° √âcosyst√®me externe (React Router, Redux, etc.)</li>
            <li>‚ö° Libert√© totale</li>
            <li>‚ö° Personnalisation compl√®te</li>
          </ul>
          <p class="note">Id√©al pour petites √©quipes et projets sp√©cifiques</p>
        </div>
      </div>
    </section>

    <section class="doc-section">
      <h2>üèõÔ∏è Architecture en Couches</h2>
      <div class="layers-container">
        @for (layer of layers; track layer.title; let i = $index) {
          <div class="layer-card" [class.layer-highlight]="i === 0">
            <div class="layer-number">{{ i + 1 }}</div>
            <div class="layer-content">
              <h3>{{ layer.title }}</h3>
              <p class="layer-description">{{ layer.description }}</p>
              <ul class="layer-elements">
                @for (element of layer.elements; track element) {
                  <li>{{ element }}</li>
                }
              </ul>
            </div>
          </div>
        }
      </div>
    </section>

    <section class="doc-section">
      <h2>üìê Pattern MVC/MVVM</h2>
      <div class="pattern-box">
        <div class="pattern-diagram">
          <div class="pattern-item model">
            <h4>Model (Services)</h4>
            <p>Donn√©es et logique m√©tier</p>
          </div>
          <div class="pattern-arrow">‚ÜîÔ∏è</div>
          <div class="pattern-item viewmodel">
            <h4>ViewModel (Component)</h4>
            <p>√âtat et logique de pr√©sentation</p>
          </div>
          <div class="pattern-arrow">‚ÜîÔ∏è</div>
          <div class="pattern-item view">
            <h4>View (Template)</h4>
            <p>Interface utilisateur</p>
          </div>
        </div>
        <div class="pattern-explanation">
          <p>
            <strong>Angular suit le pattern MVVM</strong> o√π le composant agit comme ViewModel,
            facilitant la communication entre le mod√®le (services) et la vue (template).
          </p>
        </div>
      </div>
    </section>

    <section class="doc-section">
      <h2>üîÑ Flux de Donn√©es</h2>
      <div class="data-flow">
        <div class="flow-step">
          <span class="flow-number">1</span>
          <div>
            <h4>User Interaction</h4>
            <p>L'utilisateur interagit avec la vue (clic, saisie...)</p>
          </div>
        </div>
        <div class="flow-arrow">‚Üì</div>
        <div class="flow-step">
          <span class="flow-number">2</span>
          <div>
            <h4>Event Binding</h4>
            <p>Le template d√©clenche une m√©thode du composant</p>
          </div>
        </div>
        <div class="flow-arrow">‚Üì</div>
        <div class="flow-step">
          <span class="flow-number">3</span>
          <div>
            <h4>Service Call</h4>
            <p>Le composant appelle un service pour la logique m√©tier</p>
          </div>
        </div>
        <div class="flow-arrow">‚Üì</div>
        <div class="flow-step">
          <span class="flow-number">4</span>
          <div>
            <h4>State Update</h4>
            <p>Le service met √† jour l'√©tat (Observable, BehaviorSubject)</p>
          </div>
        </div>
        <div class="flow-arrow">‚Üì</div>
        <div class="flow-step">
          <span class="flow-number">5</span>
          <div>
            <h4>Change Detection</h4>
            <p>Angular d√©tecte les changements et met √† jour la vue</p>
          </div>
        </div>
      </div>
    </section>

    <section class="doc-section">
      <h2>üîå Dependency Injection (DI)</h2>
      <div class="di-explanation">
        <div class="di-concept">
          <h3>Qu'est-ce que le DI ?</h3>
          <p>
            Le <strong>Dependency Injection</strong> est un design pattern o√π les d√©pendances d'une classe
            sont fournies de l'ext√©rieur plut√¥t que cr√©√©es √† l'int√©rieur.
          </p>
        </div>
        <div class="di-benefits">
          <h3>Avantages du DI Angular</h3>
          <div class="benefits-grid">
            <div class="benefit-card">
              <span class="benefit-icon">üß™</span>
              <h4>Testabilit√©</h4>
              <p>Facile de mocker les d√©pendances</p>
            </div>
            <div class="benefit-card">
              <span class="benefit-icon">‚ôªÔ∏è</span>
              <h4>R√©utilisabilit√©</h4>
              <p>Services partag√©s entre composants</p>
            </div>
            <div class="benefit-card">
              <span class="benefit-icon">üîß</span>
              <div>
                <h4>Maintenabilit√©</h4>
                <p>Couplage faible entre classes</p>
              </div>
            </div>
            <div class="benefit-card">
              <span class="benefit-icon">‚ö°</span>
              <h4>Performance</h4>
              <p>Singletons par d√©faut</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section class="doc-section">
      <h2>üì¶ Modules vs Standalone</h2>
      <div class="module-comparison">
        <div class="module-option">
          <h3>‚ùå NgModules (Legacy)</h3>
          <pre><code>&#64;NgModule(&#123;
  declarations: [MyComponent],
  imports: [CommonModule],
  providers: [MyService]
&#125;)
export class MyModule &#123;&#125;</code></pre>
          <p class="note">Approche traditionnelle, plus verbeux</p>
        </div>
        <div class="module-option preferred">
          <h3>‚úÖ Standalone (Moderne)</h3>
          <pre><code>&#64;Component(&#123;
  standalone: true,
  imports: [CommonModule],
  providers: [MyService]
&#125;)
export class MyComponent &#123;&#125;</code></pre>
          <p class="note">Approche moderne, plus simple</p>
        </div>
      </div>
    </section>

    <nav class="doc-navigation">
      <a routerLink="/documentation/intro/history" class="nav-btn prev">
        ‚Üê Histoire
      </a>
      <a routerLink="/documentation/intro/comparison" class="nav-btn next">
        Comparaison ‚Üí
      </a>
    </nav>
  </article>
</div>
