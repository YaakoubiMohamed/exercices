<div class="notes-container">
  <h1> Calculateur de Notes</h1>

  <!-- Formulaire de saisie -->
  <form [formGroup]="notesForm" class="form-section">
    <div class="form-group">
      <label for="studentName">Nom de l'étudiant</label>
      <input 
        id="studentName" 
        type="text"
        formControlName="studentName"
        placeholder="Entrez le nom de l'étudiant">
    </div>

    <div class="form-group">
      <label for="math">Mathématiques</label>
      <input 
        id="math" 
        type="number"
        formControlName="math"
        min="0"
        max="20"
        step="0.5"
        placeholder="Note sur 20">
    </div>

    <div class="form-group">
      <label for="french">Français</label>
      <input 
        id="french" 
        type="number"
        formControlName="french"
        min="0"
        max="20"
        step="0.5"
        placeholder="Note sur 20">
    </div>

    <div class="form-group">
      <label for="history">Histoire</label>
      <input 
        id="history" 
        type="number"
        formControlName="history"
        min="0"
        max="20"
        step="0.5"
        placeholder="Note sur 20">
    </div>

    <div class="form-group">
      <label for="science">Sciences</label>
      <input 
        id="science" 
        type="number"
        formControlName="science"
        min="0"
        max="20"
        step="0.5"
        placeholder="Note sur 20">
    </div>

    <button type="button" class="btn-calculate" (click)="calculateResults()" [disabled]="notesForm.invalid">
       Calculer la moyenne et la mention
    </button>
  </form>

  <!-- Affichage des résultats -->
  @if (showResults) {
  <div class="results-section">
    <h2> Résultats</h2>
    
    <div class="result-card">
      <div class="result-item">
        <strong>Étudiant :</strong> 
        <span>{{ notesForm.get('studentName')?.value || 'Non renseigné' }}</span>
      </div>

      <div class="notes-display">
        <h3>Notes par matière</h3>
        <div class="note-item">
          <span>Mathématiques :</span>
          <strong>{{ notesForm.get('math')?.value }}/20</strong>
        </div>
        <div class="note-item">
          <span>Français :</span>
          <strong>{{ notesForm.get('french')?.value }}/20</strong>
        </div>
        <div class="note-item">
          <span>Histoire :</span>
          <strong>{{ notesForm.get('history')?.value }}/20</strong>
        </div>
        <div class="note-item">
          <span>Sciences :</span>
          <strong>{{ notesForm.get('science')?.value }}/20</strong>
        </div>
      </div>

      <div class="result-item">
        <strong>Nombre de matières :</strong> 
        <span>{{ totalSubjects }}</span>
      </div>

      <div class="result-item average">
        <strong>Moyenne générale :</strong> 
        <span class="average-value">{{ average.toFixed(2) }}/20</span>
      </div>

      <div class="result-item mention-result">
        <strong>Mention :</strong> 
        <span [class]="getMentionClass()">{{ mention }}</span>
      </div>
    </div>
  </div>
  }
</div>
