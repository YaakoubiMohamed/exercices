<div class="todo-container">
  <h1>âœ… Gestionnaire de TÃ¢ches</h1>

  <!-- Statistiques -->
  <div class="stats-header">
    <div class="stat-card">
      <span class="stat-value">{{ stats.total }}</span>
      <span class="stat-label">Total</span>
    </div>
    <div class="stat-card">
      <span class="stat-value">{{ stats.completed }}</span>
      <span class="stat-label">TerminÃ©es</span>
    </div>
    <div class="stat-card">
      <span class="stat-value">{{ stats.pending }}</span>
      <span class="stat-label">En cours</span>
    </div>
    <div class="stat-card">
      <span class="stat-value">{{ stats.completionRate.toFixed(0) }}%</span>
      <span class="stat-label">Progression</span>
    </div>
  </div>

  <!-- Formulaire d'ajout -->
  <div class="add-task-section">
    <h2>Nouvelle tÃ¢che</h2>
    
    <!-- TODO: ImplÃ©menter le formulaire -->
    <div class="form-group">
      <input 
        type="text"
        [(ngModel)]="newTaskTitle"
        placeholder="Titre de la tÃ¢che..."
        class="input-title">
    </div>

    <div class="form-group">
      <textarea 
        [(ngModel)]="newTaskDescription"
        placeholder="Description (optionnelle)..."
        rows="3"
        class="input-description"></textarea>
    </div>

    <div class="form-row">
      <select [(ngModel)]="newTaskPriority" class="input-priority">
        <option value="low">ðŸŸ¢ Basse</option>
        <option value="medium">ðŸŸ¡ Moyenne</option>
        <option value="high">ðŸ”´ Haute</option>
      </select>

      <button class="btn-add" (click)="addTask()">
        âž• Ajouter
      </button>
    </div>
  </div>

  <!-- Filtres -->
  <div class="filters">
    <button 
      class="filter-btn"
      [class.active]="activeFilter === 'all'"
      (click)="setFilter('all')">
      Toutes
    </button>
    <button 
      class="filter-btn"
      [class.active]="activeFilter === 'pending'"
      (click)="setFilter('pending')">
      En cours
    </button>
    <button 
      class="filter-btn"
      [class.active]="activeFilter === 'completed'"
      (click)="setFilter('completed')">
      TerminÃ©es
    </button>
  </div>

  <!-- Liste des tÃ¢ches -->
  <div class="tasks-list">
    @for (task of displayedTasks; track task.id) {
      <div class="task-card" 
           [class.completed]="task.completed"
           [class.priority-high]="task.priority === 'high'"
           [class.priority-medium]="task.priority === 'medium'"
           [class.priority-low]="task.priority === 'low'">
        
        <input 
          type="checkbox" 
          [checked]="task.completed"
          (change)="toggleTask(task.id)"
          class="task-checkbox">
        
        <div class="task-content">
          <h4 class="task-title">{{ task.title }}</h4>
          @if (task.description) {
            <p class="task-description">{{ task.description }}</p>
          }
          <div class="task-meta">
            <span class="priority-badge" [class]="task.priority">
              @if (task.priority === 'high') { ðŸ”´ Haute }
              @if (task.priority === 'medium') { ðŸŸ¡ Moyenne }
              @if (task.priority === 'low') { ðŸŸ¢ Basse }
            </span>
            <span class="task-date">{{ task.createdAt | date:'short':'':'fr' }}</span>
          </div>
        </div>
        
        <div class="task-actions">
          <button class="btn-delete" (click)="deleteTask(task.id)">
            âœ–
          </button>
        </div>
      </div>
    } @empty {
      <p class="empty-state">Aucune tÃ¢che pour le moment</p>
    }
  </div>
</div>
